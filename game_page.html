<!DOCTYPE html>
<html lang="en">
<head>
  <title>Document</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body >
  
  <div>
    <audio id = "game-music">
      <source src = "audio/game-music.mp3">
    </audio>
  </div>
  <nav class="navbar ">
    <div class="navbar-header">
      <a class="navbar-brand " href="#">
        <!-- copied -->
        <svg viewBox="0 0 4800 1000">
        <symbol id="s-text">
            <text text-anchor="middle" x="600" y="10%">MEMO-RISE</text>
        </symbol>
        <g class = "g-ants">
            <use xlink:href="#s-text" class="text-copy"></use>
            <use xlink:href="#s-text" class="text-copy"></use>
            <use xlink:href="#s-text" class="text-copy"></use>
            <use xlink:href="#s-text" class="text-copy"></use>
            <use xlink:href="#s-text" class="text-copy"></use>
        </g>
    </svg></a>
    <!-- ------- -->
    </div>
    <div class=" navbar-btn " style="margin-right: 2%;">
      <ul class="nav navbar-nav navbar-right">
        <li class="active " ><a href="#" >Home</a></li>
        <li class="active switch-btn" id = "switch-btn" ><a href="#"><label for="game-mode">Game-mode : </label> 
          <select name="game-mode" id="game-mode"> 
              <option value="easy" class = "easy">Easy</option> 
              <option value="medium" class = "medium">Medium</option> 
              <option value="difficult" class = "difficult">Difficult</option> 
          </select></a></li>
        <li class="active "  ><a href="#">logout </a></li>
      
      </ul>`
      <ul class="nav navbar-nav navbar-right ">
      </ul>
    </div>
  </nav>

  <div class="container-fluid">
    <p class="guide">Memorize the order of the numbers</p>
    <div class="grid-container">
      <audio id = "correct">
        <source src = "audio/correct-choice-43861.mp3">
    </audio>
    <audio id = "wrong">
      <source src = "audio/wrong-ans.mp3">
  </audio>
    </div>
    
    <div class = "scoreboard" >
      <audio id = "audioId">
        <source src = "audio/countdown.mp3">
    </audio>
      <p class="timer-note">Countdown</p>
      <p id="timer">0</p>

      <button  data-modal-target="#modal" onClick="window.location.reload();" id = "next-button" class = "btn-design"> <span class="btn-content">New Game</span></button>
      <button  data-modal-target="#modal" onClick="endGame();" id = "end-button" class = "btn-design"> <span class = "btn-content">End game</span></button>

<!-- popup -->
<div id="myModal" class="modal">
  <!-- Modal content -->
  <div class="modal-content">
    <audio id = "game-win">
      <source src = "audio/game_overp.wav">
    </audio>
    <audio id = "game-fail">
      <source src = "audio/game-fail-sound-effect.mp3">
    </audio>
    <div class="modal-header">
      <h3 class = "pop-title">Meaning of Hello!</h3>
  </div>
  <div class="modal-body" style="background-color: aqua;">
      <p>Your Score : <span class = "score">0</span></p>
      <p> Time taken : <span class = "time-taken">0</span></p>
      <p> Accuracy : <span class = "accuracy">0</span></p>
     <button data-modal-target="#modal" id = "next-button"  onClick="window.location.reload();" class = " btn-lg btn-group-lg restart"> Restart</button>
     <button data-modal-target="#modal" id = "close-btn" class = " btn-lg btn-group-lg close-btn"> <span class="btn-content">Close</span> </button>
  </div>
  </div>
</div>

    <link rel="stylesheet" href="css/game_style.css">
    <link rel="stylesheet" href="css/bootstrap.css">

    <script>
     
      gameMode = document.getElementById("game-mode");
      console.log(gameMode.value);

      let currentScript = document.createElement('script');
          currentScript.src = 'js/game_page(3X3).js'; 
          document.body.appendChild(currentScript);

function loadScript(scriptSrc) {
  if (currentScript) {
    // Remove the current script if one exists
    document.body.removeChild(currentScript);
  }

  const scriptElement = document.createElement('script');
  scriptElement.src = scriptSrc;

  // Listen to the 'load' event of the script
  scriptElement.onload = function () {
    currentScript = scriptElement;
  };

  document.body.appendChild(scriptElement);
}
      gameMode.addEventListener('change', function() {
            const value = gameMode.value;
            switch (value) {
                case 'easy':
                   loadScript('js/game_page(3X3).js');
                  break;

                  case 'difficult':
                     loadScript('js/game_page.js');
                    break;
            }
        });
   

  </script>

</body>
</html>